---
import NavSection from './NavSection.astro';
import { getNavigationStructure } from '../utils/getNavigationStructure';

interface Props {
  currentPath: string;
}

const { currentPath } = Astro.props;
const sections = await getNavigationStructure();
---

<nav class="w-64 bg-gray-100 h-[calc(100vh-4rem)] p-5 overflow-y-auto">
  <ul class="space-y-2">
    {sections.map(section => (
      <li>
        <NavSection 
          title={section.title}
          items={section.items}
          currentPath={currentPath}
        />
      </li>
    ))}
  </ul>
</nav> 